#set ($page_title=$msg.printView.title)
#set ($disableNav=true)
                                                                                          
<div class="section">
  <h1>$msg.page.printableMap.title</h1>
  <table class="bodyTable">
    <tbody>
      <tr>
        <td>
          <div id="map">
            <img src="GetMap.do" alt="current map"/>
          </div>
        </td>
        <td>
          <div id="legend">
            <b>$msg.page.printableMap.legend</b><br/>
                                                                                          
            #foreach( $layer in $printMap.ActiveLayers )
            #if ($layer.hasLegend())
            <img src="GetLegendGraphic.do?layer=$layer.name"
              alt="legend for layer $layer.name"/>
            <br/>
            #end
            #end
                                                                                          
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="section">
  	$formatter.makeAlternator("rowclass", "a", "b")
    <h2>$msg.page.printableMap.general_settings</h2>
    <table class="bodyTable">
      <thead>
        <tr>
          <th>$msg.page.printableMap.parameter</th>
          <th>$msg.page.printableMap.value</th>
        </tr>
      </thead>
      <tbody>
        #if( $printMap.Mapparameters.size() > 0 )
        #foreach( $param in $printMap.Mapparameters )
        #if ( $param.value && $param.value != "")
        <tr class="$rowclass">
          <td>$param.title</td>
          <td>
            #foreach( $value in $param.values )
            #if ( $value.isSelected() )
            $value.title<br/>
            #end
            #end
          </td>
        </tr>
        $rowclass.alternate()
        #end
        #end
        #end
      </tody>
    </table>
  </div>
  <div class="section">
    <h2>Layer Information</h2>
    #foreach( $layer in $printMap.ActiveLayers )
      <h3>$layer.title</h3>
    <p>
    $layer.description
    </p>
    #if( $layer.getParameters(false).size() > 1 )
    <table class="bodyTable">
      <thead>
        <tr>
          <th>$msg.page.printableMap.parameter</th>
          <th>$msg.page.printableMap.value</th>
        </tr>
      </thead>
      <tbody>
        #foreach( $param in $layer.getParameters(false) )
        #if ( $param.value && $param.value != "")
        <tr class="$rowclass">
          <td>$param.title</td>
          <td>
            #foreach( $value in $param.values )
            #if ( $value.isSelected() )
            $value.title<br/>
            #end
            #end
          </td>
        </tr>
        $rowclass.alternate()
        #end
        #end
      </tody>
    </table>
    #end
    #end                                                                                  
  </div>
</div>